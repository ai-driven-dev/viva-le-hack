sequenceDiagram
    participant AS as ðŸ“± Apple Shortcut
    participant U as ðŸ‘¤ Utilisateur  
    participant O as ðŸŽ­ Orchestrateur
    participant H as ðŸ’Š Health Agent
    participant M as ðŸ§  Memory Agent
    participant P as ðŸŽ™ï¸ Podcast Agent
    participant A as âš¡ Alter Ego
    participant WS as ðŸ” Web Search

    Note over AS: Collecte donnÃ©es santÃ© automatique
    AS->>+O: "hi" (initialisation)
    
    Note over O: Workflow automatique
    O->>U: "Bonjour ! Je vÃ©rifie ton Ã©tat de santÃ©..."
    O->>+H: transfer_to_healthAgent
    
    Note over H: Analyse donnÃ©es santÃ©
    H->>H: get_today_health_report (API + localStorage)
    H->>H: analyze_health_trends
    H->>-O: "Bilan santÃ© complet"
    
    O->>+M: transfer_to_memoryAgent  
    Note over M: RÃ©cupÃ¨re historique
    M->>M: get_previous_conversations
    M->>-O: "Historique actions prÃ©cÃ©dentes"
    
    O->>+P: transfer_to_softMorningPodcastAgent
    Note over P: GÃ©nÃ¨re capsule matinale
    P->>P: get_health_data + getUserMemory
    P->>WS: search_good_news + get_weather
    WS-->>P: ActualitÃ©s + mÃ©tÃ©o
    P->>P: GÃ©nÃ¨re script podcast (300-400 mots)
    P->>U: ðŸŽ™ï¸ Script podcast personnalisÃ©
    P->>+A: transfer_to_alterEgo (avec contexte enrichi)
    deactivate P
    
    Note over A: DÃ©finition action du jour
    A->>U: "Quelle est ton action principale ?"
    U->>A: Conversation interactive
    A->>A: update_conversation_state (opened: false)
    A->>U: "Action sauvegardÃ©e ! Session terminÃ©e."
    A->>-O: Retour final
    deactivate O
